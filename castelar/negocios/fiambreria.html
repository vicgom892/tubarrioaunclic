<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fiambrería - Tu Barrio A Un Click</title>
  <link rel="manifest" href="../manifest.json">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  <link rel="stylesheet" href="../../shared/css/negocios.css">
  <link rel="icon" href="../../shared/img/icon-192x192.png">
  <meta name="description" content="Fiambrería en Castelar. Fiambres, embutidos, sándwiches, y promociones personalizadas. Entregas a domicilio.">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body data-categoria="fiambreria" class="bg-gray-100 font-sans">

     <div id="splash-screen" class="splash-screen">
        <div class="splash-particles" id="splashParticles"></div>
        <div class="splash-grid"></div>
        <div class="splash-logo">
            <img src="../../shared/img/icon-192x192.png" class="logo-icon" alt="logo de la app">
        </div>
        <h1 class="splash-text">Tu Barrio A Un Clik</h1>
        <div class="loading-bar-container">
            <div class="loading-bar" id="loadingBar"></div>
        </div>
        <p class="loading-text" id="loadingText">Cargando experiencia local...</p>
        <button onclick="skipSplash()" class="skip-btn">Saltar</button>
    </div>

  <!-- Header dinámico -->
  <header
    data-nombre-negocio="Panadería"
    data-logo-negocio="../img/logo-negocio.png">
    <div class="container flex justify-between items-center p-4">
      <!-- Logo de la app animado con texto -->
      <a href="../index.html" class="logo-app group text-decoration-none inline-flex items-center space-x-2 bg-white px-3 py-1 rounded-full shadow-md border border-gray-200 transition-all duration-300 hover:scale-105 hover:shadow-lg animate-bounce-slow">
        <img src="../../shared/img/icon-192x192.png" alt="Logo App" class="h-8" />
        <span class="text-gray-700 font-semibold text-sm hidden sm:inline">Volver a la App</span>
      </a>

      <!-- Menú navegación (centrado en PC) -->
      <nav class="nav-menu hidden md:flex space-x-6">
        <a href="#inicio" class="text-gray-700 hover:text-green-600">Inicio</a>
        <a href="#productos" class="text-gray-700 hover:text-green-600">Productos</a>
        <a href="#ofertas" class="text-gray-700 hover:text-green-600">Ofertas</a>
        <a href="#contacto" class="text-gray-700 hover:text-green-600">Contacto</a>
      </nav>

      <!-- Logo del negocio -->
      <a href="../index.html" class="logo-negocio group inline-flex items-center space-x-2 bg-white px-3 py-1 rounded-full shadow-md border border-gray-200 transition-all duration-300 hover:scale-105 hover:shadow-lg animate-bounce-slow">
        <img id="logoNegocioPC" src="../../shared/img/icon-192x192.png" alt="Logo Negocio" class="h-10" />
      </a>

      <!-- Botón hamburguesa móvil -->
      <button id="mobileMenuToggle" class="md:hidden text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </header>

  <div id="mobileMenuModal" class="modal fade" tabindex="-1" aria-labelledby="mobileMenuModalLabel" aria-hidden="true">  
  <div class="modal-dialog modal-right">
    <div class="modal-content bg-white/95 backdrop-blur-md w-3/4 max-w-sm h-full p-6 flex flex-col shadow-lg rounded-r-xl relative">
      <!-- Header del modal -->
      <div class="flex justify-between items-center mb-4">
        <img id="logoNegocioModal" src="../../shared/img/icon-192x192.png" alt="Logo del Negocio" class="h-10 rounded shadow-md">
        <button id="mobileMenuClose" class="text-gray-800 hover:text-red-500 focus:outline-none">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>

      <!-- Bienvenida -->
      <div class="mb-6">
        <h2 class="text-lg font-semibold text-gray-800">Bienvenido a</h2>
        <p id="nombreNegocioModal" class="text-xl font-bold text-green-700">Panadería</p>
      </div>

      <!-- Navegación móvil -->
      <nav class="space-y-4 text-base text-gray-700">
        <a href="#inicio" class="block hover:text-blue-600 transition">Inicio</a>
        <a href="#productos" class="block hover:text-blue-600 transition">Productos</a>
        <a href="#ofertas" class="block hover:text-blue-600 transition">Ofertas</a>
        <a href="#contacto" class="block hover:text-blue-600 transition">Contacto</a>
      </nav>

      <div class="flex-grow"></div>
    </div>
  </div>
  </div>

  <!-- Contenido principal -->
    <!-- Banner del negocio -->
    <section class="hero parallax" id="fiambreria">
      <div class="overlay-text text-white text-center p-4">
        <h1 class="display-4 fw-bold">Bienvenidos</h1>
        <p class="lead mb-4">Disfruta de la mejor experiencia en tu barrio</p>
        <a href="#panaderias" class="btn btn-primary btn-lg">Explorar Comercios</a>
      </div>
    </section>

    <!-- Información del negocio -->
    <section class="bg-white rounded-lg shadow-md p-4 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Información</h2>
      <div class="space-y-2">
        <p><strong>Dirección:</strong> Av. Independencia 901, Castelar, Buenos Aires</p>
        <p><strong>Horarios:</strong> <span data-hours="Mon-Sat 10:00-19:00">Lunes a Sábado: 10:00 - 19:00</span></p>
        <p><strong>Teléfono:</strong> <a href="tel:+541187654321">+54 11 8765-4321</a></p>
        <button class="btn-whatsapp bg-green-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2" data-hours="Mon-Sat 10:00-19:00" data-number="5491187654321">
          <i class="fab fa-whatsapp"></i>
          <span>Contactar por WhatsApp</span>
        </button>
      </div>
    </section>

    <section class="offers">
      <h2 class="text-2xl font-bold text-gray-800 mb-4">Ofertas Especiales</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <div class="offer-card bg-white rounded-lg shadow-md p-4">
          <img src="../../img/fiambreria-1.webp" alt="Descuento en Fiambres" class="offer-img w-full h-32 object-cover rounded-t-lg">
          <h3 class="text-lg font-semibold text-gray-800 mt-2">20% en Fiambres</h3>
          <p class="text-gray-600">Fiambres seleccionados con un 20% de descuento. Variedades disponibles.</p>
        </div>

        <div class="offer-card bg-white rounded-lg shadow-md p-4">
          <img src="../../img/fiambreria-2.webp" alt="Oferta en Embutidos" class="offer-img w-full h-32 object-cover rounded-t-lg">
          <h3 class="text-lg font-semibold text-gray-800 mt-2">Embutidos Especiales</h3>
          <p class="text-gray-600">Embutidos artesanales, perfectos para cualquier ocasión. ¡No te los pierdas!</p>
        </div>

        <div class="offer-card bg-white rounded-lg shadow-md p-4">
          <img src="../../img/fiambreria-3.webp" alt="Sándwiches Gourmet" class="offer-img w-full h-32 object-cover rounded-t-lg">
          <h3 class="text-lg font-semibold text-gray-800 mt-2">Sándwiches Gourmet</h3>
          <p class="text-gray-600">Sándwiches preparados con ingredientes frescos y de alta calidad.</p>
        </div>

        <div class="offer-card bg-white rounded-lg shadow-md p-4">
          <img src="../../img/fiambreria-4.webp" alt="Entrega Gratis" class="offer-img w-full h-32 object-cover rounded-t-lg">
          <h3 class="text-lg font-semibold text-gray-800 mt-2">Entrega Gratis</h3>
          <p class="text-gray-600">Pedí online y obtené entrega gratuita en Castelar.</p>
        </div>
      </div>
    </section>

    <!-- Servicios destacados -->
    <section class="bg-white rounded-lg shadow-md p-4">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Servicios Destacados</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div class="flex items-start space-x-3 business-card bg-white rounded-lg shadow-md p-4">
          <img src="../../img/fiambreria.webp" alt="Fiambres Variados" class="w-20 h-20 object-cover rounded" loading="lazy">
          <div>
            <h3 class="font-semibold text-gray-800">Fiambres Variados</h3>
            <p class="text-gray-600">Amplia variedad de fiambres frescos y de alta calidad.</p>
          </div>
        </div>
        <div class="flex items-start space-x-3 business-card bg-white rounded-lg shadow-md p-4">
          <img src="../../img/fiambreria-1.webp" alt="Embutidos Artesanales" class="w-20 h-20 object-cover rounded" loading="lazy">
          <div>
            <h3 class="font-semibold text-gray-800">Embutidos Artesanales</h3>
            <p class="text-gray-600">Embutidos preparados con recetas tradicionales y ingredientes seleccionados.</p>
          </div>
        </div>
        <div class="flex items-start space-x-3 business-card bg-white rounded-lg shadow-md p-4">
          <img src="../../img/fiambreria-2.webp" alt="Sándwiches Gourmet" class="w-20 h-20 object-cover rounded" loading="lazy">
          <div>
            <h3 class="font-semibold text-gray-800">Sándwiches Gourmet</h3>
            <p class="text-gray-600">Sándwiches personalizados con ingredientes frescos y de alta calidad.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Sección Ofertas de la Semana -->
    <section class="parallax-offer" id="ofertas">
      <div class="container py-5 position-relative z-10" id="ofertas-container">
        <h2 class="text-center text-white mb-5">🌟 Ofertas de la Semana</h2>
        <div class="row justify-content-center g-4" id="ofertas-list">
          <!-- Tarjetas generadas dinámicamente -->
        </div>
      </div>
    </section>

    <!-- Formulario de Promociones -->
    <section class="bg-white rounded-lg shadow-md p-4 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Promociones Personalizadas</h2>
      <form id="promo-form" class="space-y-4">
        <div>
          <label for="promo-name" class="block text-gray-700 font-medium">Nombre de la Promoción</label>
          <input type="text" id="promo-name" name="promo-name" class="w-full p-2 border border-gray-300 rounded" required>
        </div>
        <div>
          <label for="promo-type" class="block text-gray-700 font-medium">Tipo de Promoción</label>
          <select id="promo-type" name="promo-type" class="w-full p-2 border border-gray-300 rounded" required>
            <option value="" disabled selected>Selecciona un tipo</option>
            <option value="picada">Picada</option>
            <option value="arma-tu-picada">Arma tu Picada</option>
          </select>
        </div>
        <div>
          <label for="promo-description" class="block text-gray-700 font-medium">Descripción</label>
          <textarea id="promo-description" name="description" rows="4" class="w-full p-2 border border-gray-300 rounded" required></textarea>
        </div>
        <div>
          <label for="promo-price" class="block text-gray-700 font-medium">Precio</label>
          <input type="number" id="promo-price" name="price" class="w-full p-2 border border-gray-300 rounded" step="0.01" required>
        </div>
        <button type="submit" class="btn-whatsapp bg-green-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2">
          <i class="fab fa-whatsapp"></i>
          <span>Agregar Promoción</span>
        </button>
      </form>
    </section>

  <!-- Botón Volver Arriba -->
  <button id="scrollTopBtn" class="fixed bottom-4 right-4 bg-blue-600 text-white p-3 rounded-full shadow-lg hidden">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
    </svg>
  </button>

  <!-- Botón de instalación PWA -->
  <!--<div id="botonInstalar" class="fixed bottom-4 left-4 bg-green-600 text-white p-3 rounded-full shadow-lg cursor-pointer pwa-btn">
    <span class="text-sm font-semibold">Instalar App</span>
  </div>-->

  <footer class="bg-white shadow-inner mt-8" id="contacto">
    <div class="container mx-auto px-4 py-6 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">

      <div class="space-x-4 text-sm text-gray-600">
        <a href="#inicio" class="hover:text-blue-600">Inicio</a>
        <a href="#negocios" class="hover:text-blue-600">Negocios</a>
        <a href="#promos" class="hover:text-blue-600">Promos</a>
        <a href="#contacto" class="hover:text-blue-600">Contacto</a>
      </div>
      <p class="text-xs text-gray-400">© 2025 Tu Barrio A Un Click. Todos los derechos reservados.</p>
    </div>
    <!-- Botón de instalación en el footer -->
    <div class="install-banner mt-4 p-3 bg-white rounded shadow-sm">
      <div class="d-flex align-items-center">
        <img src="../../shared/img/icon-192x192.png" alt="Logo App" class="me-3" style="width: 60px; height: 60px;">
        <div class="flex-grow-1">
          <div class="small text-muted mb-1">¿Quieres la app completa?</div>
          <button id="botonInstalar" class="btn btn-success w-100 py-2">
            <i class="fas fa-download me-1"></i>Instalar Tu Barrio A Un Clik
          </button>
        </div>
      </div>
    </div>
  </footer>
    <script>
    // Cargar ofertas desde JSON con filtrado por categoría
  const ofertasContainer = document.getElementById("ofertas-list");
  if (ofertasContainer) {
    let categoria = document.body.dataset.categoria || "panaderia";
    console.log("Categoría detectada:", categoria);

    fetch("../../datos/ofertas-fiambreria.json")
      .then((response) => {
        if (!response.ok) {
          throw new Error("Error al cargar el archivo JSON");
        }
        return response.json();
      })
      .then((data) => {
        const ofertasFiltradas = data.ofertas.filter(oferta => oferta.categoria === categoria);
        if (ofertasFiltradas.length === 0) {
          console.warn(`⚠️ No se encontraron ofertas para la categoría "${categoria}"`);
          ofertasContainer.innerHTML = `<p class="text-white text-center">No hay ofertas disponibles para esta categoría</p>`;
        } else {
          ofertasFiltradas.forEach((oferta) => {
            const col = document.createElement("div");
            col.className = "col-md-5";

            col.innerHTML = `
              <div class="card card-offer">
                <img src="${oferta.imagen}" class="card-img-top" alt="${oferta.titulo}" style="height: 200px; object-fit: cover;">
                <div class="card-body text-center">
                  <h3 class="card-title">${oferta.titulo}</h3>
                  <p class="card-text">${oferta.descripcion}</p>
                  <a href="${oferta.boton.url}" target="_blank" class="btn btn-whatsapp">${oferta.boton.texto}</a>
                </div>
              </div>
            `;

            ofertasContainer.appendChild(col);
          });
        }
      })
      .catch((error) => {
        console.error("Error al cargar las ofertas:", error);
        ofertasContainer.innerHTML = `<p class="text-white text-center">No se pudieron cargar las ofertas</p>`;
      });
  } else {
    console.warn("No se encontró el contenedor de ofertas");
  }
  </script>

  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="../../shared/js/splash.js"></script>
<script src="../../shared/js/install-app.js"></script>
<script>
  AOS.init();
</script>
</body>
</html>